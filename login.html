<!DOCTYPE html>
<html>
<head>
    <title>HR Login</title>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <style>
        body {
            background: #f4f6f9;
            font-family: Arial;
        }
        .login-box {
            width: 360px;
            margin: 120px auto;
            background: #fff;
            padding: 25px;
            box-shadow: 0 0 15px rgba(0,0,0,.15);
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        input {
            width: 100%;
            padding: 10px;
            margin-bottom: 12px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: #337ab7;
            color: #fff;
            border: none;
            font-weight: bold;
            cursor: pointer;
        }
        .error {
            color: red;
            text-align: center;
        }
    </style>
</head>

<body>

<div class="login-box">
    <h2>HR Login</h2>

    <div class="error" id="error"></div>

    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">

    <button onclick="login()">Login</button>
</div>

<script>
function login() {
    $("#error").text("");

    fetch("http://localhost:8000/login", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body:
            "email=" + encodeURIComponent($("#email").val()) +
            "&password=" + encodeURIComponent($("#password").val()),
        credentials: "include"   // â­ IMPORTANT
    })
    .then(r => r.json())
    .then(res => {
        if (!res.success) {
            $("#error").text(res.message);
            return;
        }

        window.location.href = "addsalary.html";
    })
    .catch(() => {
        $("#error").text("Login failed");
    });
}
</script>

</body>
</html>
